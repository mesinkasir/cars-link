{"version":3,"file":"index.js","sources":["../src/createBoldPlugin.ts","../src/createCodePlugin.ts","../src/createItalicPlugin.ts","../src/createStrikethroughPlugin.ts","../src/createSubscriptPlugin.ts","../src/createSuperscriptPlugin.ts","../src/createUnderlinePlugin.ts","../src/createBasicMarksPlugin.ts"],"sourcesContent":["import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-core';\n\nexport const MARK_BOLD = 'bold';\n\n/**\n * Enables support for bold formatting\n */\nexport const createBoldPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_BOLD,\n  isLeaf: true,\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['STRONG', 'B'] },\n      {\n        validStyle: {\n          fontWeight: ['600', '700', 'bold'],\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontWeight === 'normal'),\n  },\n\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+b',\n  },\n});\n","import {\n  createPluginFactory,\n  findHtmlParentElement,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-core';\n\nexport const MARK_CODE = 'code';\n\n/**\n * Enables support for code formatting\n */\nexport const createCodePlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_CODE,\n  isLeaf: true,\n  deserializeHtml: {\n    rules: [\n      {\n        validNodeName: ['CODE'],\n      },\n      {\n        validStyle: {\n          wordWrap: 'break-word',\n        },\n      },\n      {\n        validStyle: {\n          fontFamily: 'Consolas',\n        },\n      },\n    ],\n    query(el) {\n      const blockAbove = findHtmlParentElement(el, 'P');\n      if (blockAbove?.style.fontFamily === 'Consolas') return false;\n\n      return !findHtmlParentElement(el, 'PRE');\n    },\n  },\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+e',\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-core';\n\nexport const MARK_ITALIC = 'italic';\n\n/**\n * Enables support for italic formatting.\n */\nexport const createItalicPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_ITALIC,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+i',\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['EM', 'I'] },\n      {\n        validStyle: {\n          fontStyle: 'italic',\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.fontStyle === 'normal'),\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-core';\n\nexport const MARK_STRIKETHROUGH = 'strikethrough';\n\n/**\n * Enables support for strikethrough formatting.\n */\nexport const createStrikethroughPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_STRIKETHROUGH,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+shift+x',\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['S', 'DEL', 'STRIKE'] },\n      {\n        validStyle: {\n          textDecoration: 'line-through',\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-core';\n\nexport const MARK_SUBSCRIPT = 'subscript';\nconst MARK_SUPERSCRIPT = 'superscript';\n\n/**\n * Enables support for subscript formatting.\n */\nexport const createSubscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_SUBSCRIPT,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+,',\n    clear: MARK_SUPERSCRIPT,\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUB'] },\n      {\n        validStyle: {\n          verticalAlign: 'sub',\n        },\n      },\n    ],\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  ToggleMarkPlugin,\n} from '@udecode/plate-core';\n\nexport const MARK_SUPERSCRIPT = 'superscript';\nconst MARK_SUBSCRIPT = 'subscript';\n\n/**\n * Enables support for superscript formatting.\n */\nexport const createSuperscriptPlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_SUPERSCRIPT,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+.',\n    clear: MARK_SUBSCRIPT,\n  },\n  deserializeHtml: {\n    rules: [\n      { validNodeName: ['SUP'] },\n      {\n        validStyle: {\n          verticalAlign: 'super',\n        },\n      },\n    ],\n  },\n});\n","import {\n  createPluginFactory,\n  onKeyDownToggleMark,\n  someHtmlElement,\n  ToggleMarkPlugin,\n} from '@udecode/plate-core';\n\nexport const MARK_UNDERLINE = 'underline';\n\n/**\n * Enables support for underline formatting.\n */\nexport const createUnderlinePlugin = createPluginFactory<ToggleMarkPlugin>({\n  key: MARK_UNDERLINE,\n  isLeaf: true,\n  handlers: {\n    onKeyDown: onKeyDownToggleMark,\n  },\n  options: {\n    hotkey: 'mod+u',\n  },\n  deserializeHtml: {\n    rules: [\n      {\n        validNodeName: ['U'],\n      },\n      {\n        validStyle: {\n          textDecoration: ['underline'],\n        },\n      },\n    ],\n    query: (el) =>\n      !someHtmlElement(el, (node) => node.style.textDecoration === 'none'),\n  },\n});\n","import { createPluginFactory } from '@udecode/plate-core';\nimport { createBoldPlugin } from './createBoldPlugin';\nimport { createCodePlugin } from './createCodePlugin';\nimport { createItalicPlugin } from './createItalicPlugin';\nimport { createStrikethroughPlugin } from './createStrikethroughPlugin';\nimport { createSubscriptPlugin } from './createSubscriptPlugin';\nimport { createSuperscriptPlugin } from './createSuperscriptPlugin';\nimport { createUnderlinePlugin } from './createUnderlinePlugin';\n\n/**\n * Enables support for basic marks:\n * - Bold\n * - Code\n * - Italic\n * - Strikethrough\n * - Subscript\n * - Superscript\n * - Underline\n */\nexport const createBasicMarksPlugin = createPluginFactory({\n  key: 'basicMarks',\n  plugins: [\n    createBoldPlugin(),\n    createCodePlugin(),\n    createItalicPlugin(),\n    createStrikethroughPlugin(),\n    createSubscriptPlugin(),\n    createSuperscriptPlugin(),\n    createUnderlinePlugin(),\n  ],\n});\n"],"names":["MARK_BOLD","createBoldPlugin","createPluginFactory","key","isLeaf","deserializeHtml","rules","validNodeName","validStyle","fontWeight","query","el","someHtmlElement","node","style","handlers","onKeyDown","onKeyDownToggleMark","options","hotkey","MARK_CODE","createCodePlugin","wordWrap","fontFamily","blockAbove","findHtmlParentElement","MARK_ITALIC","createItalicPlugin","fontStyle","MARK_STRIKETHROUGH","createStrikethroughPlugin","textDecoration","MARK_SUBSCRIPT","MARK_SUPERSCRIPT","createSubscriptPlugin","clear","verticalAlign","createSuperscriptPlugin","MARK_UNDERLINE","createUnderlinePlugin","createBasicMarksPlugin","plugins"],"mappings":";;;;;;MAOaA,SAAS,GAAG;AAEzB;AACA;AACA;;MACaC,gBAAgB,GAAGC,6BAAmB,CAAmB;AACpEC,EAAAA,GAAG,EAAEH,SAD+D;AAEpEI,EAAAA,MAAM,EAAE,IAF4D;AAGpEC,EAAAA,eAAe,EAAE;AACfC,IAAAA,KAAK,EAAE,CACL;AAAEC,MAAAA,aAAa,EAAE,CAAC,QAAD,EAAW,GAAX;AAAjB,KADK,EAEL;AACEC,MAAAA,UAAU,EAAE;AACVC,QAAAA,UAAU,EAAE,CAAC,KAAD,EAAQ,KAAR,EAAe,MAAf;AADF;AADd,KAFK,CADQ;AASfC,IAAAA,KAAK,EAAGC,EAAD,IACL,CAACC,yBAAe,CAACD,EAAD,EAAME,IAAD,IAAUA,IAAI,CAACC,KAAL,CAAWL,UAAX,KAA0B,QAAzC;AAVH,GAHmD;AAgBpEM,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAEC;AADH,GAhB0D;AAmBpEC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE;AADD;AAnB2D,CAAnB;;MCLtCC,SAAS,GAAG;AAEzB;AACA;AACA;;MACaC,gBAAgB,GAAGnB,6BAAmB,CAAmB;AACpEC,EAAAA,GAAG,EAAEiB,SAD+D;AAEpEhB,EAAAA,MAAM,EAAE,IAF4D;AAGpEC,EAAAA,eAAe,EAAE;AACfC,IAAAA,KAAK,EAAE,CACL;AACEC,MAAAA,aAAa,EAAE,CAAC,MAAD;AADjB,KADK,EAIL;AACEC,MAAAA,UAAU,EAAE;AACVc,QAAAA,QAAQ,EAAE;AADA;AADd,KAJK,EASL;AACEd,MAAAA,UAAU,EAAE;AACVe,QAAAA,UAAU,EAAE;AADF;AADd,KATK,CADQ;;AAgBfb,IAAAA,KAAK,CAACC,EAAD,EAAK;AACR,YAAMa,UAAU,GAAGC,+BAAqB,CAACd,EAAD,EAAK,GAAL,CAAxC;AACA,UAAI,CAAAa,UAAU,SAAV,IAAAA,UAAU,WAAV,YAAAA,UAAU,CAAEV,KAAZ,CAAkBS,UAAlB,MAAiC,UAArC,EAAiD,OAAO,KAAP;AAEjD,aAAO,CAACE,+BAAqB,CAACd,EAAD,EAAK,KAAL,CAA7B;AACD;;AArBc,GAHmD;AA0BpEI,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAEC;AADH,GA1B0D;AA6BpEC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE;AADD;AA7B2D,CAAnB;;MCLtCO,WAAW,GAAG;AAE3B;AACA;AACA;;MACaC,kBAAkB,GAAGzB,6BAAmB,CAAmB;AACtEC,EAAAA,GAAG,EAAEuB,WADiE;AAEtEtB,EAAAA,MAAM,EAAE,IAF8D;AAGtEW,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAEC;AADH,GAH4D;AAMtEC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE;AADD,GAN6D;AAStEd,EAAAA,eAAe,EAAE;AACfC,IAAAA,KAAK,EAAE,CACL;AAAEC,MAAAA,aAAa,EAAE,CAAC,IAAD,EAAO,GAAP;AAAjB,KADK,EAEL;AACEC,MAAAA,UAAU,EAAE;AACVoB,QAAAA,SAAS,EAAE;AADD;AADd,KAFK,CADQ;AASflB,IAAAA,KAAK,EAAGC,EAAD,IACL,CAACC,yBAAe,CAACD,EAAD,EAAME,IAAD,IAAUA,IAAI,CAACC,KAAL,CAAWc,SAAX,KAAyB,QAAxC;AAVH;AATqD,CAAnB;;MCLxCC,kBAAkB,GAAG;AAElC;AACA;AACA;;MACaC,yBAAyB,GAAG5B,6BAAmB,CAAmB;AAC7EC,EAAAA,GAAG,EAAE0B,kBADwE;AAE7EzB,EAAAA,MAAM,EAAE,IAFqE;AAG7EW,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAEC;AADH,GAHmE;AAM7EC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE;AADD,GANoE;AAS7Ed,EAAAA,eAAe,EAAE;AACfC,IAAAA,KAAK,EAAE,CACL;AAAEC,MAAAA,aAAa,EAAE,CAAC,GAAD,EAAM,KAAN,EAAa,QAAb;AAAjB,KADK,EAEL;AACEC,MAAAA,UAAU,EAAE;AACVuB,QAAAA,cAAc,EAAE;AADN;AADd,KAFK,CADQ;AASfrB,IAAAA,KAAK,EAAGC,EAAD,IACL,CAACC,yBAAe,CAACD,EAAD,EAAME,IAAD,IAAUA,IAAI,CAACC,KAAL,CAAWiB,cAAX,KAA8B,MAA7C;AAVH;AAT4D,CAAnB;;MCN/CC,gBAAc,GAAG;AAC9B,MAAMC,kBAAgB,GAAG,aAAzB;AAEA;AACA;AACA;;MACaC,qBAAqB,GAAGhC,6BAAmB,CAAmB;AACzEC,EAAAA,GAAG,EAAE6B,gBADoE;AAEzE5B,EAAAA,MAAM,EAAE,IAFiE;AAGzEW,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAEC;AADH,GAH+D;AAMzEC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE,OADD;AAEPgB,IAAAA,KAAK,EAAEF;AAFA,GANgE;AAUzE5B,EAAAA,eAAe,EAAE;AACfC,IAAAA,KAAK,EAAE,CACL;AAAEC,MAAAA,aAAa,EAAE,CAAC,KAAD;AAAjB,KADK,EAEL;AACEC,MAAAA,UAAU,EAAE;AACV4B,QAAAA,aAAa,EAAE;AADL;AADd,KAFK;AADQ;AAVwD,CAAnB;;MCN3CH,gBAAgB,GAAG;AAChC,MAAMD,cAAc,GAAG,WAAvB;AAEA;AACA;AACA;;MACaK,uBAAuB,GAAGnC,6BAAmB,CAAmB;AAC3EC,EAAAA,GAAG,EAAE8B,gBADsE;AAE3E7B,EAAAA,MAAM,EAAE,IAFmE;AAG3EW,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAEC;AADH,GAHiE;AAM3EC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE,OADD;AAEPgB,IAAAA,KAAK,EAAEH;AAFA,GANkE;AAU3E3B,EAAAA,eAAe,EAAE;AACfC,IAAAA,KAAK,EAAE,CACL;AAAEC,MAAAA,aAAa,EAAE,CAAC,KAAD;AAAjB,KADK,EAEL;AACEC,MAAAA,UAAU,EAAE;AACV4B,QAAAA,aAAa,EAAE;AADL;AADd,KAFK;AADQ;AAV0D,CAAnB;;MCL7CE,cAAc,GAAG;AAE9B;AACA;AACA;;MACaC,qBAAqB,GAAGrC,6BAAmB,CAAmB;AACzEC,EAAAA,GAAG,EAAEmC,cADoE;AAEzElC,EAAAA,MAAM,EAAE,IAFiE;AAGzEW,EAAAA,QAAQ,EAAE;AACRC,IAAAA,SAAS,EAAEC;AADH,GAH+D;AAMzEC,EAAAA,OAAO,EAAE;AACPC,IAAAA,MAAM,EAAE;AADD,GANgE;AASzEd,EAAAA,eAAe,EAAE;AACfC,IAAAA,KAAK,EAAE,CACL;AACEC,MAAAA,aAAa,EAAE,CAAC,GAAD;AADjB,KADK,EAIL;AACEC,MAAAA,UAAU,EAAE;AACVuB,QAAAA,cAAc,EAAE,CAAC,WAAD;AADN;AADd,KAJK,CADQ;AAWfrB,IAAAA,KAAK,EAAGC,EAAD,IACL,CAACC,yBAAe,CAACD,EAAD,EAAME,IAAD,IAAUA,IAAI,CAACC,KAAL,CAAWiB,cAAX,KAA8B,MAA7C;AAZH;AATwD,CAAnB;;ACHxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;MACaS,sBAAsB,GAAGtC,6BAAmB,CAAC;AACxDC,EAAAA,GAAG,EAAE,YADmD;AAExDsC,EAAAA,OAAO,EAAE,CACPxC,gBAAgB,EADT,EAEPoB,gBAAgB,EAFT,EAGPM,kBAAkB,EAHX,EAIPG,yBAAyB,EAJlB,EAKPI,qBAAqB,EALd,EAMPG,uBAAuB,EANhB,EAOPE,qBAAqB,EAPd;AAF+C,CAAD;;;;;;;;;;;;;;;;;;"}