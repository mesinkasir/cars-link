{"version":3,"file":"index.js","sources":["../src/defaults.ts","../src/getKbdDeserialize.ts","../src/createKbdPlugin.ts"],"sourcesContent":["export const MARK_KBD = 'kbd';\n","import { getLeafDeserializer } from '@udecode/plate-common';\nimport { Deserialize, getPlatePluginOptions } from '@udecode/plate-core';\nimport { MARK_KBD } from './defaults';\n\nexport const getKbdDeserialize = (): Deserialize => (editor) => {\n  const options = getPlatePluginOptions(editor, MARK_KBD);\n\n  return {\n    leaf: getLeafDeserializer({\n      type: options.type,\n      rules: [\n        { nodeNames: ['KBD'] },\n        {\n          style: {\n            wordWrap: 'break-word',\n          },\n        },\n      ],\n      ...options.deserialize,\n    }),\n  };\n};\n","import { getToggleMarkOnKeyDown } from '@udecode/plate-common';\nimport { getRenderLeaf, PlatePlugin } from '@udecode/plate-core';\nimport { MARK_KBD } from './defaults';\nimport { getKbdDeserialize } from './getKbdDeserialize';\n\n/**\n * Enables support for code formatting\n */\nexport const createKbdPlugin = (): PlatePlugin => ({\n  pluginKeys: MARK_KBD,\n  renderLeaf: getRenderLeaf(MARK_KBD),\n  deserialize: getKbdDeserialize(),\n  onKeyDown: getToggleMarkOnKeyDown(MARK_KBD),\n});\n"],"names":["MARK_KBD","getKbdDeserialize","editor","options","getPlatePluginOptions","leaf","getLeafDeserializer","type","rules","nodeNames","style","wordWrap","deserialize","createKbdPlugin","pluginKeys","renderLeaf","getRenderLeaf","onKeyDown","getToggleMarkOnKeyDown"],"mappings":";;;;;;;MAAaA,QAAQ,GAAG;;MCIXC,iBAAiB,GAAG,MAAoBC,MAAD,IAAY;AAC9D,QAAMC,OAAO,GAAGC,+BAAqB,CAACF,MAAD,EAASF,QAAT,CAArC;AAEA,SAAO;AACLK,IAAAA,IAAI,EAAEC,+BAAmB,CAAC;AACxBC,MAAAA,IAAI,EAAEJ,OAAO,CAACI,IADU;AAExBC,MAAAA,KAAK,EAAE,CACL;AAAEC,QAAAA,SAAS,EAAE,CAAC,KAAD;AAAb,OADK,EAEL;AACEC,QAAAA,KAAK,EAAE;AACLC,UAAAA,QAAQ,EAAE;AADL;AADT,OAFK,CAFiB;AAUxB,SAAGR,OAAO,CAACS;AAVa,KAAD;AADpB,GAAP;AAcD;;AChBD;AACA;AACA;;MACaC,eAAe,GAAG,OAAoB;AACjDC,EAAAA,UAAU,EAAEd,QADqC;AAEjDe,EAAAA,UAAU,EAAEC,uBAAa,CAAChB,QAAD,CAFwB;AAGjDY,EAAAA,WAAW,EAAEX,iBAAiB,EAHmB;AAIjDgB,EAAAA,SAAS,EAAEC,kCAAsB,CAAClB,QAAD;AAJgB,CAApB;;;;;;"}