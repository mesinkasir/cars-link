import React, { useState, useContext } from "react";
const LOCALSTORAGEKEY = "tina.isEditing";
const isSSR = typeof window === "undefined";
const isEditing = () => {
  if (!isSSR) {
    const isEdit = window.localStorage.getItem(LOCALSTORAGEKEY);
    return isEdit && isEdit === "true";
  }
  return false;
};
const setEditing = (isEditing2) => {
  if (!isSSR) {
    window.localStorage.setItem(LOCALSTORAGEKEY, isEditing2 ? "true" : "false");
  }
};
const EditContext = React.createContext({
  edit: isEditing(),
  setEdit: void 0
});
const TinaDataContext = React.createContext({
  state: {
    payload: {}
  },
  setRequest: () => {
  },
  isLoading: false,
  isDummyContainer: true
});
const EditProvider = ({ children }) => {
  const [edit, setEditState] = useState(isEditing());
  const setEdit = (edit2) => {
    setEditState(edit2);
    setEditing(edit2);
  };
  return /* @__PURE__ */ React.createElement(EditContext.Provider, {
    value: { edit, setEdit }
  }, children);
};
const useEditState = () => {
  const { edit, setEdit } = useContext(EditContext);
  if (!setEdit) {
    throw new Error("No `TinaEditProvider` found");
  }
  return { edit, setEdit };
};
export { EditContext, EditProvider, TinaDataContext, isEditing, setEditing, useEditState };
